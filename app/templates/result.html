{% extends "base.html" %}
{% import "components.html" as ui %}
{% block title %}Recipe Result{% endblock %}
{% block content %}
<section class="card stack">
  {{ ui.page_header(recipe.title, "Review the output, then save it to use cook mode and notes.", "Generated") }}

  <ul class="meta-pills" aria-label="Recipe metadata">
    <li class="meta-pill"><strong>Servings:</strong> {{ recipe.servings }}</li>
    <li class="meta-pill"><strong>Time:</strong> {{ recipe.time_minutes }} min</li>
    <li class="meta-pill"><strong>Difficulty:</strong> {{ recipe.difficulty }}</li>
  </ul>

  <section class="stack">
    <p>{{ recipe.dish_summary }}</p>
  </section>

  <section class="stack">
    <h2 class="section-title">Ingredients</h2>
    <ul>
      {% for ingredient in recipe.ingredients %}
        <li>{{ ingredient.amount }} {{ ingredient.unit }} {{ ingredient.name }}</li>
      {% endfor %}
    </ul>
  </section>

  <section class="stack">
    <h2 class="section-title">Steps</h2>
    <ol class="step-list">
      {% for step in recipe.steps %}
        <li>{{ step.text }}</li>
      {% endfor %}
    </ol>
  </section>

  <div class="actions">
    <form method="post" action="/ui/save" data-loading-form>
      <textarea name="recipe_json" class="hidden-field">{{ recipe_json }}</textarea>
      <button type="submit" class="btn btn-primary" data-submit-label="Save recipe">Save recipe</button>
    </form>
    <a class="btn btn-secondary" href="/">Generate Another</a>
  </div>

  <p class="muted">Tip: save first, then open cook mode from the saved recipe page.</p>
</section>

<script src="/static/ui.js"></script>
{% endblock %}
